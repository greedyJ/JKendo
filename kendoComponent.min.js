"use strict";let newKendoOpt=(e,t)=>{t=t||{};let o={};switch(e){case"kendoGrid":o={...defaultGridConfig};break;case"kendoTreeList":o={...defaultTreeListConfig};break;case"kendoDropDownList":o={dataTextField:"value",dataValueField:"key",dataSource:{type:"json",transport:{read:""}}};break;case"kendoComboBox":o={dataTextField:"value",dataValueField:"key",filter:"contains",placeholder:"Fill in the Licensor",dataSource:{type:"json",transport:{read:""}}};break;case"kendoWindow":o={width:"70%",title:"",visible:!1,actions:["Minimize","Maximize","Close"],modal:!0};break;case"kendoTabStrip":o={animation:{open:{effects:"fadeIn"}}}}return Object.assign(o,t),o},newComponentDOM=e=>{let t=$("<div>");switch(e){case"input":case"kendoDropDownList":case"kendoComboBox":t=$("<input>").attr("type","text");break;case"textbox":t=newComponentDOM("input").addClass("k-textbox");break;case"button":t=$("<button>").addClass("k-button").attr("type","button");break;case"link":t=$("<a>");break;case"label":t=$("<label>")}return t},initKendoComponent=(e,t,o)=>{let s=t;switch(o=o||{},e){case"kendoGrid":o.filterable&&(o.columns=o.columns.map(e=>(null==e.filterable&&(e.filterable={multi:!0,search:!0}),e))),s=t.kendoGrid(o).data(e),s.dataSource.bind("change",function(e){s.columns.map(e=>s.showColumn(e.field)),e.sender.group().map(e=>s.hideColumn(e.field))});break;case"kendoTreeList":s=t.kendoTreeList(o).data(e);break;case"kendoDropDownList":s=t.kendoDropDownList(o).data(e);break;case"kendoComboBox":s=t.kendoComboBox(o).data(e);break;case"kendoWindow":s=t.kendoWindow(o).data(e);break;case"kendoTabStrip":s=t.kendoTabStrip(o).data(e)}return s};class JKendoBase{constructor(e,t){this.component=e,this.DOM=newComponentDOM(e),this.opt=newKendoOpt(e),this.obj=this.DOM,this.id=parseInt(Math.random()*Math.pow(10,10)).toString();let o=Object.getOwnPropertyNames(Object.getPrototypeOf(this));null!=t&&Object.keys(t).forEach(e=>{if(o.includes(e))try{this[e]=t[e]}catch{}})}init(e){return this.opt=e=null==e?this.opt:e,this.obj=initKendoComponent(this.component,this.DOM,this.opt),this.obj}set html(e){e.constructor.name.startsWith("JKendo")?this.DOM.html(e.DOM):this.DOM.html(e)}set append(e){e.constructor.name.startsWith("JKendo")?this.DOM.append(e.DOM):this.DOM.append(e)}get html(){return this.obj[0].outerHTML}set objName(e){this._objName=e}get objName(){return this._objName}set val(e){switch(this.component){case"textbox":this.obj.val(e);break;case"kendoComboBox":case"kendoDropDownList":this.obj.value(e)}}get val(){let e="";switch(this.component){case"textbox":e=this.obj.val();break;case"kendoComboBox":case"kendoDropDownList":e=this.obj.value()}return e}set url(e){switch(this.component){case"kendoComboBox":case"kendoDropDownList":case"kendoGrid":case"kendoTreeList":this.opt.dataSource.transport.read=e}}set data(e){switch(this.component){case"kendoComboBox":case"kendoDropDownList":case"kendoGrid":case"kendoTreeList":delete this.opt.dataSource.transport,this.opt.dataSource.data=e}}get data(){let e=[];switch(this.component){case"kendoGrid":case"kendoTreeList":e=this.obj.dataSource.data()}return e}set progress(e){kendo.ui.progress(this.DOM,e)}on(e,t){return null!=t&&this.DOM.on(e,t),this}on(e,t,o){return null!=o&&this.DOM.on(e,t,o),this}attr(e){return this.DOM.attr(e),this}}class JKendoGridKind extends JKendoBase{constructor(e,t){super(e,t)}set columns(e){this.opt.columns=e}set toolbar(e){e.length?this.opt.toolbar=e:delete this.opt.toolbar,e.includes("save")&&console.log("Please Set saveChanges property")}set editable(e=!0){this.opt.editable=e}set saveChanges(e){this.opt.toolbar.includes("save")&&(this.opt.saveChanges=e)}}class JKendoGrid extends JKendoGridKind{constructor(e){super("kendoGrid",e)}set distinctColumns(e){this._distinctColumns=e,this.opt.dataSource.change=function(t){switch(t.action){case"add":case"itemchange":let o=t.sender.data(),s=o.filter((t,o,s)=>s.map(t=>e.map(e=>t[e.field]).join("^@^")).indexOf(e.map(e=>t[e.field]).join("^@^"))===o);if(s.length!=o.length){let n=o.filter(e=>!s.includes(e)),a=n.filter(t=>!e.map(e=>null==t[e.field]).reduce((e,t)=>e&&t));if(a.length>0){let t=a.map(t=>e.map(e=>e.field+":"+t[e.field]).join(",")).join("\n");alert("Duplicate "+t)}n.map(e=>{t.sender.remove(e)})}}}}set showGroupHeader(e){this.opt.groupable=e}}class JKendoTreeList extends JKendoGridKind{constructor(e){super("kendoTreeList",e)}}class JKendoWindow extends JKendoBase{constructor(e){super("kendoWindow",e)}set width(e){this.opt.width=e}set height(e){this.opt.height=e}set title(e){this.opt.title=e}}class JKendoTextbox extends JKendoBase{constructor(e){super("textbox",e)}set enable(e){this.DOM.prop("disabled",!e)}}class JKendoComboBox extends JKendoBase{constructor(e){super("kendoComboBox",e)}}class JKendoDropDownList extends JKendoBase{constructor(e){super("kendoDropDownList",e)}}class JKendoHTMLObj extends JKendoBase{constructor(e,t,o){super(e,o),super.html=t,null!=o&&Object.keys(o).forEach(e=>{(e.startsWith("data-")||["name","id"].includes(e))&&this.obj.attr(e,o[e])})}}class JKendoLabel extends JKendoHTMLObj{constructor(e,t){super("label",e,t)}}class JKendoButton extends JKendoHTMLObj{constructor(e,t){super("button",e,t)}}class JKendoLink extends JKendoHTMLObj{constructor(e,t){super("link",e,t)}}class JKendoTab extends JKendoBase{constructor(e){super("kendoTabStrip",e)}set(e){this.setTabs(e[0]),this.setContents(e[1])}setTabs(e){this.DOM.html($("<ul>").html(e.map((e,t)=>$("<li>").attr("id",this.id+t).html(e)[0].outerHTML).join(""))).append(e.map(e=>$("<div>")[0].outerHTML).join("")),this.tabs=e,this.tabContents=e.map(e=>"")}setContents(e){this.tabContents=e}setContent(e,t){this.tabContents[this.tabs.indexOf(e)]=t}init(e){super.init(e),this.tabs.map((e,t)=>{this.DOM.find("div#"+this.DOM.find("ul li#"+this.id+t).attr("aria-controls")).html(this.tabContents[t])}),this.obj.activateTab(this.DOM.find("ul li#"+this.id+0))}}