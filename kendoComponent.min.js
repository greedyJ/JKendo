"use strict";let newKendoOpt=(t,e)=>{e=e||{};let o={};switch(t){case"kendoGrid":o={...defaultGridConfig};break;case"kendoTreeList":o={...defaultTreeListConfig};break;case"kendoDropDownList":o={dataTextField:"value",dataValueField:"key",dataSource:{type:"json",transport:{read:""}}};break;case"kendoComboBox":o={dataTextField:"value",dataValueField:"key",filter:"contains",placeholder:"Fill in the Licensor",dataSource:{type:"json",transport:{read:""}}};break;case"kendoWindow":o={width:"70%",title:"",visible:!1,actions:["Minimize","Maximize","Close"],modal:!0};break;case"kendoTabStrip":o={animation:{open:{effects:"fadeIn"}}}}return Object.assign(o,e),o},newComponentDOM=t=>{let e=$("<div>");switch(t){case"input":case"kendoDropDownList":case"kendoComboBox":e=$("<input>").attr("type","text");break;case"textbox":e=newComponentDOM("input").addClass("k-textbox");break;case"button":e=$("<button>").addClass("k-button").attr("type","button");break;case"link":e=$("<a>")}return e},initKendoComponent=(t,e,o)=>{let s=null;switch(o=o||{},t){case"kendoGrid":o.filterable&&(o.columns=o.columns.map(t=>(null==t.filterable&&(t.filterable={multi:!0,search:!0}),t))),s=e.kendoGrid(o).data(t),s.dataSource.bind("change",function(t){s.columns.map(t=>s.showColumn(t.field)),t.sender.group().map(t=>s.hideColumn(t.field))});break;case"kendoTreeList":s=e.kendoTreeList(o).data(t);break;case"kendoDropDownList":s=e.kendoDropDownList(o).data(t);break;case"kendoComboBox":s=e.kendoComboBox(o).data(t);break;case"kendoWindow":s=e.kendoWindow(o).data(t);break;case"kendoTabStrip":s=e.kendoTabStrip(o).data(t)}return s};class JKendoBase{constructor(t,e){this.component=t,this.DOM=newComponentDOM(t),this.opt=newKendoOpt(t),this.obj=this.DOM,this.id=parseInt(Math.random()*Math.pow(10,10)).toString();let o=Object.getOwnPropertyNames(Object.getPrototypeOf(this));null!=e&&Object.keys(e).forEach(t=>{if(o.includes(t))try{this[t]=e[t]}catch{}})}init(t){this.opt=t=null==t?this.opt:t,this.obj=initKendoComponent(this.component,this.DOM,this.opt)}set html(t){t.constructor.name.startsWith("JKendo")?this.DOM.html(t.DOM):this.DOM.html(t)}get html(){return this.obj[0].outerHTML}set val(t){switch(this.component){case"textbox":this.obj.val(t);break;case"kendoComboBox":case"kendoDropDownList":this.obj.value(t)}}get val(){let t="";switch(this.component){case"textbox":t=this.obj.val();break;case"kendoComboBox":case"kendoDropDownList":t=this.obj.value()}return t}set url(t){switch(this.component){case"kendoComboBox":case"kendoDropDownList":case"kendoGrid":case"kendoTreeList":this.opt.dataSource.transport.read=t}}set data(t){switch(this.component){case"kendoComboBox":case"kendoDropDownList":case"kendoGrid":case"kendoTreeList":delete this.opt.dataSource.transport,this.opt.dataSource.data=t}}get data(){let t=[];switch(this.component){case"kendoGrid":case"kendoTreeList":t=this.obj.dataSource.data()}return t}set progress(t){kendo.ui.progress(this.DOM,t)}on(t,e){return null!=e&&this.DOM.on(t,e),this}on(t,e,o){return null!=o&&this.DOM.on(t,e,o),this}attr(t){return this.DOM.attr(t),this}}class JKendoGridKind extends JKendoBase{constructor(t,e){super(t,e)}set columns(t){this.opt.columns=t}set toolbar(t){t.length?this.opt.toolbar=t:delete this.opt.toolbar,t.includes("save")&&console.log("Please Set saveChanges property")}set editable(t=!0){this.opt.editable=t}set saveChanges(t){this.opt.toolbar.includes("save")&&(this.opt.saveChanges=t)}}class JKendoGrid extends JKendoGridKind{constructor(t){super("kendoGrid",t)}set distinctColumns(t){this._distinctColumns=t,this.opt.dataSource.change=function(e){switch(e.action){case"add":case"itemchange":let o=e.sender.data(),s=o.filter((e,o,s)=>s.map(e=>t.map(t=>e[t.field]).join("^@^")).indexOf(t.map(t=>e[t.field]).join("^@^"))===o);if(s.length!=o.length){let n=o.filter(t=>!s.includes(t)),i=n.filter(e=>!t.map(t=>null==e[t.field]).reduce((t,e)=>t&&e));if(i.length>0){let e=i.map(e=>t.map(t=>t.field+":"+e[t.field]).join(",")).join("\n");alert("Duplicate "+e)}n.map(t=>{e.sender.remove(t)})}}}}set showGroupHeader(t){this.opt.groupable=t}}class JKendoTreeList extends JKendoGridKind{constructor(t){super("kendoTreeList",t)}}class JKendoWindow extends JKendoBase{constructor(t){super("kendoWindow",t)}set width(t){this.opt.width=t}set height(t){this.opt.height=t}set title(t){this.opt.title=t}}class JKendoTextbox extends JKendoBase{constructor(t){super("textbox",t)}}class JKendoComboBox extends JKendoBase{constructor(t){super("kendoComboBox",t)}}class JKendoDropDownList extends JKendoBase{constructor(t){super("kendoDropDownList",t)}}class JKendoButton extends JKendoBase{constructor(t,e){super("button",e),this.html=t}}class JKendoLink extends JKendoBase{constructor(t,e){super("link",e),this.html=t}}class JKendoTab extends JKendoBase{constructor(t){super("kendoTabStrip",t)}set(t){this.setTabs(t[0]),this.setContents(t[1])}setTabs(t){this.DOM.html($("<ul>").html(t.map((t,e)=>$("<li>").attr("id",this.id+e).html(t)[0].outerHTML).join(""))).append(t.map(t=>$("<div>")[0].outerHTML).join("")),this.tabs=t,this.tabContents=t.map(t=>"")}setContents(t){this.tabContents=t}setContent(t,e){this.tabContents[this.tabs.indexOf(t)]=e}init(t){super.init(t),this.tabs.map((t,e)=>{this.DOM.find("div#"+this.DOM.find("ul li#"+this.id+e).attr("aria-controls")).html(this.tabContents[e])}),this.obj.activateTab(this.DOM.find("ul li#"+this.id+0))}}